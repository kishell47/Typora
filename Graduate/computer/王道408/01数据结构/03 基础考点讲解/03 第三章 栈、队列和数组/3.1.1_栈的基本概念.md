# 栈（Stack）基本概念



## 知识总览

<img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304122138954.png" alt="image-20230412213840799" style="zoom: 50%;" />

* <img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304122140216.png" alt="image-20230412214011094" style="zoom:50%;" />

* 探讨数据结构需要从数据结构的三要素作为出发点来依次分析和探讨.

<img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304130902816.png" alt="image-20230413090207561" style="zoom:33%;" />

* 栈的插入和删除操作只能在栈顶进行，是一种操作受限的线性表.

* 栈的特性：后进先出

  

## 栈的定义

* **线性表定义：**

  * **线性表**是具有相同数据类型的n（n≥0）个数据元素的有限序列，其中n为表长，当n =0时线性表是一个空表。若用L命名线性表，则其一般表示为

  * $$
    L =(a_1,a_2,\cdots,a_i,a_{i+1},\cdots,a_n).
    $$

* **栈的定义**

  * 栈（Stack）是只允许在一端进行插入或删除操作的**线性表**
    * 线性表：一条线、一前一后一对一的关系.
  * 栈是一种特殊的线性表
    * 逻辑结构：与普通线性表相同，一对一一前一后的逻辑关系
    * 数据的运算：插入、删除操作有区别，只能在栈顶的这一端进行.
  * 对于普通线性表，当我们要插入一个数据元素或者删除一个数据元素的时候,我们可以在任意一个地方插入和删除，但是对于栈这种数据结构来说，我们会限制它的插入和删除操作，插入和删除操作只能在线性表的一端进行.
  * 栈的插入（删除）只能在表尾的地方插入（删除），不能在其他地方进行插入.
    * 整齐的一堆，一堆石头、盘子、肉串等
    * <img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304130731645.png" alt="image-20230413073112591" style="zoom: 67%;" />
    * <img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304130731862.png" alt="image-20230413073146753" style="zoom: 33%;" />

* **栈相关的重要术语**

  * 栈顶、栈底、空栈.
  * **空栈**
    * 栈里面没有放任何数据元素.
    * 对应线性表的空表.
    * <img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304130735786.png" style="zoom:33%;" />

  * **往栈中放入元素是从一端一个个压入**

  * **栈顶：**
    * 允许插入和删除的一端.
  * **栈顶元素**
    * 最上面的元素.
  * **栈底：**
    * 不允许插入和删除的一端.
  * **栈底元素**
    * 最下面的元素.
  * <img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304130739705.png" alt="image-20230413073922655" style="zoom: 50%;" />

  * **进栈顺序：**a1->a2->a3->a4->a5.
  * **出栈顺序：**a5->a4->a3->a2->a1.
    * 出栈顺序是进栈顺序的逆序.
  * **栈的特点：**后进先出`LIFO`
    * 后进入栈的数据元素会先出栈.
    * LIFO：Last In First Out



## 栈的基本操作

* <img src="https://cvp.oss-cn-shanghai.aliyuncs.com/picgo/202304130746796.png" alt="image-20230413074621713" style="zoom: 50%;" />
  * 创销改查
* **栈的创销**
  * `InitStack(&S)`：**初始化**栈，创建栈，构造一个空栈S，**分配相应的内存空间**.
  * `DestroyStack(&S)`：**销毁**栈，**释放**栈S所占用的**内存空间**
* **栈的增删**
  * `Push(&S,x)`：**进栈**，若栈S未满，则将x加入使之成为新**栈顶**
  * `Pop(&S,&x)`：**出栈**，若栈S非空，则弹出**栈顶**元素，并用x返回，删除栈顶元素

* **读栈顶元素**

  * `GetTop(S, &x)`：若栈S非空，则用x返回栈顶元素

  * 读栈顶元素和栈的删除，都会用x返回栈顶元素，但是读取栈顶元素不删除栈顶元素.
  * `GetTop(S, &x)`对应普通线性表的查，栈的使用场景中大多只访问栈顶元素.

* **其他常用操作**

  * `StackEmpty(S)`：判断一个栈S是否为空.若S为空，则返回true，否则返回false



## 栈的常考题型

* 进栈顺序：a→b → c→d→e，有哪些合法的出栈顺序?

  * n个不同元素进栈，出栈元素不同排列的个数为
    $$
    \frac{1}{n+1} C_{2 n}^{n}
    $$
    上述公式称为卡特兰（Catalan）数，可采用数学归纳法证明（不要求掌握）.

  * 5个数据元素进栈，有可能出现的合法的出栈元素不同排列个数为：

    * $$
      \frac{1}{5+1}C^5_{10}=\frac{10*9*9*7*6}{6*5*4*3*2*1}=42
      $$